{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/index/carrito.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nexport interface CartItem {\n  id: number;\n  nombre: string;\n  precio: number;\n  establecimiento: string;\n  cantidad: number;\n}\n\ninterface CartContextType {\n  items: CartItem[];\n  addItem: (item: Omit<CartItem, \"cantidad\">, cantidad: number) => void;\n  removeItem: (id: number, establecimiento: string) => void;\n  updateQuantity: (\n    id: number,\n    cantidad: number,\n    establecimiento: string\n  ) => void;\n  clearCart: () => void;\n  isOpen: boolean;\n  openCart: () => void;\n  closeCart: () => void;\n  toggleCart: () => void;\n  totalItems: number;\n  totalPrice: number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\n  const [items, setItems] = useState<CartItem[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [totalItems, setTotalItems] = useState(0);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  // Cargar carrito desde localStorage en el primer renderizado\n  useEffect(() => {\n    const savedCart = localStorage.getItem(\"cart\");\n    if (savedCart) {\n      try {\n        const parsedCart = JSON.parse(savedCart);\n        setItems(parsedCart);\n      } catch (error) {\n        console.error(\"Error al cargar el carrito guardado:\", error);\n      }\n    }\n  }, []);\n\n  // Actualizar localStorage cuando el carrito cambia\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(items));\n\n    // Calcular totales\n    const itemCount = items.reduce((total, item) => total + item.cantidad, 0);\n    const price = items.reduce(\n      (total, item) => total + item.precio * item.cantidad,\n      0\n    );\n\n    setTotalItems(itemCount);\n    setTotalPrice(price);\n  }, [items]);\n\n  const addItem = (item: Omit<CartItem, \"cantidad\">, cantidad: number) => {\n    setItems((prevItems) => {\n      // Verificar si el producto ya está en el carrito\n      const existingItemIndex = prevItems.findIndex(\n        (i) => i.id === item.id && i.establecimiento === item.establecimiento\n      );\n\n      if (existingItemIndex >= 0) {\n        // Si existe, actualizar la cantidad\n        const updatedItems = [...prevItems];\n        updatedItems[existingItemIndex].cantidad += cantidad;\n        return updatedItems;\n      } else {\n        // Si no existe, agregar como nuevo item\n        return [...prevItems, { ...item, cantidad }];\n      }\n    });\n  };\n\n  // Actualizar para usar también el establecimiento\n  const removeItem = (id: number, establecimiento: string) => {\n    setItems((prevItems) =>\n      prevItems.filter(\n        (item) => !(item.id === id && item.establecimiento === establecimiento)\n      )\n    );\n  };\n\n  // Actualizar para usar también el establecimiento\n  const updateQuantity = (\n    id: number,\n    cantidad: number,\n    establecimiento: string\n  ) => {\n    if (cantidad <= 0) {\n      removeItem(id, establecimiento);\n      return;\n    }\n\n    setItems((prevItems) =>\n      prevItems.map((item) =>\n        item.id === id && item.establecimiento === establecimiento\n          ? { ...item, cantidad }\n          : item\n      )\n    );\n  };\n\n  const clearCart = () => {\n    setItems([]);\n  };\n\n  const openCart = () => setIsOpen(true);\n  const closeCart = () => setIsOpen(false);\n  const toggleCart = () => setIsOpen((prev) => !prev);\n\n  return (\n    <CartContext.Provider\n      value={{\n        items,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        isOpen,\n        openCart,\n        closeCart,\n        toggleCart,\n        totalItems,\n        totalPrice,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error(\"useCart debe usarse dentro de un CartProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAoCA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,6DAA6D;IAC7D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,IAAI;gBACF,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wCAAwC;YACxD;QACF;IACF,GAAG,EAAE;IAEL,mDAAmD;IACnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAE5C,mBAAmB;QACnB,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;QACvE,MAAM,QAAQ,MAAM,MAAM,CACxB,CAAC,OAAO,OAAS,QAAQ,KAAK,MAAM,GAAG,KAAK,QAAQ,EACpD;QAGF,cAAc;QACd,cAAc;IAChB,GAAG;QAAC;KAAM;IAEV,MAAM,UAAU,CAAC,MAAkC;QACjD,SAAS,CAAC;YACR,iDAAiD;YACjD,MAAM,oBAAoB,UAAU,SAAS,CAC3C,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE,IAAI,EAAE,eAAe,KAAK,KAAK,eAAe;YAGvE,IAAI,qBAAqB,GAAG;gBAC1B,oCAAoC;gBACpC,MAAM,eAAe;uBAAI;iBAAU;gBACnC,YAAY,CAAC,kBAAkB,CAAC,QAAQ,IAAI;gBAC5C,OAAO;YACT,OAAO;gBACL,wCAAwC;gBACxC,OAAO;uBAAI;oBAAW;wBAAE,GAAG,IAAI;wBAAE;oBAAS;iBAAE;YAC9C;QACF;IACF;IAEA,kDAAkD;IAClD,MAAM,aAAa,CAAC,IAAY;QAC9B,SAAS,CAAC,YACR,UAAU,MAAM,CACd,CAAC,OAAS,CAAC,CAAC,KAAK,EAAE,KAAK,MAAM,KAAK,eAAe,KAAK,eAAe;IAG5E;IAEA,kDAAkD;IAClD,MAAM,iBAAiB,CACrB,IACA,UACA;QAEA,IAAI,YAAY,GAAG;YACjB,WAAW,IAAI;YACf;QACF;QAEA,SAAS,CAAC,YACR,UAAU,GAAG,CAAC,CAAC,OACb,KAAK,EAAE,KAAK,MAAM,KAAK,eAAe,KAAK,kBACvC;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IACpB;IAGV;IAEA,MAAM,YAAY;QAChB,SAAS,EAAE;IACb;IAEA,MAAM,WAAW,IAAM,UAAU;IACjC,MAAM,YAAY,IAAM,UAAU;IAClC,MAAM,aAAa,IAAM,UAAU,CAAC,OAAS,CAAC;IAE9C,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/components/vistacarro.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useEffect, useRef } from \"react\";\nimport { useCart } from \"../index/carrito\";\n\nconst Cart = () => {\n  const {\n    items,\n    removeItem,\n    updateQuantity,\n    clearCart,\n    isOpen,\n    closeCart,\n    totalItems,\n    totalPrice,\n  } = useCart();\n\n  const cartRef = useRef<HTMLDivElement>(null);\n\n  // Cerrar carrito al hacer clic fuera\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (cartRef.current && !cartRef.current.contains(event.target as Node)) {\n        closeCart();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen, closeCart]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex justify-end pointer-events-none\">\n      <div\n        ref={cartRef}\n        className=\"bg-white w-full max-w-md h-full flex flex-col shadow-xl pointer-events-auto\"\n      >\n        <div className=\"p-4 bg-red-600 text-white flex justify-between items-center\">\n          <h2 className=\"text-xl font-bold flex items-center\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6 mr-2\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n              />\n            </svg>\n            Mi Lista de Compras ({totalItems})\n          </h2>\n          <button\n            onClick={closeCart}\n            className=\"text-white hover:text-gray-200\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {items.length === 0 ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center p-8\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-16 w-16 text-gray-300 mb-4\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n              />\n            </svg>\n            <p className=\"text-gray-600 text-center mb-4\">\n              Tu lista de compras está vacía\n            </p>\n            <button\n              onClick={closeCart}\n              className=\"bg-red-600 text-white px-6 py-2 rounded-md hover:bg-red-700 transition-colors\"\n            >\n              Seguir comprando\n            </button>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex-1 overflow-y-auto p-4\">\n              {items.map((item, index) => (\n                <div\n                  key={`${item.id}-${item.establecimiento}-${index}`}\n                  className=\"border-b border-gray-200 py-4 flex\"\n                >\n                  <div className=\"w-20 h-20 bg-gray-100 rounded-md flex items-center justify-center mr-4 flex-shrink-0\">\n                    <span className=\"text-xs text-gray-500 text-center p-1\">\n                      {item.nombre}\n                    </span>\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-medium text-gray-800 mb-1 line-clamp-2\">\n                      {item.nombre}\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mb-2\">\n                      {item.establecimiento}\n                    </p>\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center border border-gray-300 rounded-md\">\n                        <button\n                          onClick={() =>\n                            updateQuantity(\n                              item.id,\n                              item.cantidad - 1,\n                              item.establecimiento\n                            )\n                          }\n                          className=\"px-2 py-1 border-r border-gray-300\"\n                        >\n                          -\n                        </button>\n                        <span className=\"px-2 py-1 min-w-[40px] text-center\">\n                          {item.cantidad}\n                        </span>\n                        <button\n                          onClick={() =>\n                            updateQuantity(\n                              item.id,\n                              item.cantidad + 1,\n                              item.establecimiento\n                            )\n                          }\n                          className=\"px-2 py-1 border-l border-gray-300\"\n                        >\n                          +\n                        </button>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-gray-800 font-medium\">\n                          ${(item.precio * item.cantidad).toFixed(2)}\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          ${item.precio.toFixed(2)} c/u\n                        </div>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => removeItem(item.id, item.establecimiento)}\n                      className=\"text-red-600 text-sm mt-2 hover:text-red-800\"\n                    >\n                      Eliminar\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\n              <div className=\"flex justify-between mb-2\">\n                <span className=\"text-gray-600\">Subtotal:</span>\n                <span className=\"font-medium\">${totalPrice.toFixed(2)}</span>\n              </div>\n              <div className=\"flex flex-col space-y-2\">\n                <Link\n                  href=\"/checkout\"\n                  className=\"bg-red-600 text-white py-2 px-4 rounded-md text-center hover:bg-red-700 transition-colors\"\n                  onClick={closeCart}\n                >\n                  Proceder al pago\n                </Link>\n                <button\n                  onClick={clearCart}\n                  className=\"text-red-600 py-2 hover:text-red-800 text-sm\"\n                >\n                  Vaciar lista\n                </button>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 534, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/lib/supabaseClient.ts"],"sourcesContent":["// lib/supabaseClient.js\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = \"https://ggpzelridqabafjlczaj.supabase.co\"; // Reemplaza con tu URL de Supabase\nconst supabaseAnonKey =\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdncHplbHJpZHFhYmFmamxjemFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3MDk5NDIsImV4cCI6MjA1NzI4NTk0Mn0.DuqbIhlJnbz7RXge_KbhBmQqM6jgrdglM9DWOz0CIJ4\"; // Reemplaza con tu clave anónima\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;AACxB;;AAEA,MAAM,cAAc,4CAA4C,mCAAmC;AACnG,MAAM,kBACJ,oNAAoN,iCAAiC;AAEhP,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 597, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/index/categorias.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"../lib/supabaseClient\";\n\ninterface Categoria {\n  id_categoria: number;\n  nombre_categoria: string;\n}\n\ninterface Producto {\n  id_producto: number;\n  nombre_producto: string;\n  peso_producto: string;\n  id_categoria: number;\n}\n\ninterface CategoriaConProductos {\n  id: number;\n  name: string;\n  items: string[];\n}\n\nconst Categorias = () => {\n  const [openDropdown, setOpenDropdown] = useState<string | null>(null);\n  const [categories, setCategories] = useState<CategoriaConProductos[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [connectionStatus, setConnectionStatus] = useState<string>(\n    \"Comprobando conexión...\"\n  );\n\n  // Test de conexión al montar el componente\n  useEffect(() => {\n    async function testConnection() {\n      try {\n        console.log(\"Probando conexión a Supabase...\");\n\n        // Query simple que debería funcionar independientemente de la estructura de la base de datos\n        const { data, error } = await supabase\n          .from(\"categorias\")\n          .select(\"count\", { count: \"exact\", head: true });\n\n        console.log(\"Respuesta de prueba de conexión:\", { data, error });\n\n        if (error) {\n          console.error(\"Error de conexión:\", error);\n          setConnectionStatus(`❌ Error de conexión: ${error.message}`);\n        } else {\n          console.log(\"Conexión exitosa a Supabase\");\n          setConnectionStatus(\"✅ Conexión exitosa a Supabase\");\n        }\n      } catch (e) {\n        console.error(\"Error inesperado al probar conexión:\", e);\n        setConnectionStatus(\n          `❌ Error inesperado al conectar: ${\n            e instanceof Error ? e.message : String(e)\n          }`\n        );\n      }\n    }\n\n    testConnection();\n  }, []);\n\n  useEffect(() => {\n    const fetchCategoriasYProductos = async () => {\n      try {\n        console.log(\"Obteniendo categorías y productos...\");\n\n        // Primero obtenemos todas las categorías\n        const { data: categorias, error: categoriasError } = await supabase\n          .from(\"categorias\")\n          .select(\"id_categoria, nombre_categoria\");\n\n        console.log(\"Respuesta de categorías:\", categorias);\n\n        if (categoriasError) {\n          console.error(\"Error al obtener categorías:\", categoriasError);\n          setError(categoriasError.message);\n          return;\n        }\n\n        if (!categorias || categorias.length === 0) {\n          console.log(\"No se encontraron categorías\");\n          setLoading(false);\n          return;\n        }\n\n        // Luego obtenemos todos los productos\n        const { data: productos, error: productosError } = await supabase\n          .from(\"productos\")\n          .select(\"id_producto, nombre_producto, id_categoria\");\n\n        console.log(\"Respuesta de productos:\", productos);\n\n        if (productosError) {\n          console.error(\"Error al obtener productos:\", productosError);\n          setError(productosError.message);\n          return;\n        }\n\n        // Agrupamos los productos por categoría\n        const categoriasFormateadas = categorias.map((categoria) => {\n          // Filtramos los productos que pertenecen a esta categoría\n          const productosFiltrados = productos\n            ? productos.filter(\n                (producto) => producto.id_categoria === categoria.id_categoria\n              )\n            : [];\n\n          // Obtenemos solo los nombres de los productos\n          const nombresProductos = productosFiltrados.map(\n            (producto) => producto.nombre_producto\n          );\n\n          return {\n            id: categoria.id_categoria,\n            name: categoria.nombre_categoria,\n            items: nombresProductos,\n          };\n        });\n\n        console.log(\"Categorías con productos:\", categoriasFormateadas);\n        setCategories(categoriasFormateadas);\n      } catch (error) {\n        console.error(\"Error en la operación:\", error);\n        setError(\"Ocurrió un error al cargar los datos\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCategoriasYProductos();\n  }, []);\n\n  const handleDropdownToggle = (category: string) => {\n    if (openDropdown === category) {\n      setOpenDropdown(null);\n    } else {\n      setOpenDropdown(category);\n    }\n  };\n\n  return (\n    <div>\n      {/* Añadir barra de estado de conexión */}\n      <div\n        className={`text-sm mb-2 p-2 text-center ${\n          connectionStatus.includes(\"✅\")\n            ? \"bg-green-100 text-green-800\"\n            : connectionStatus.includes(\"❌\")\n            ? \"bg-red-100 text-red-800\"\n            : \"bg-blue-100 text-blue-800\"\n        }`}\n      >\n        {connectionStatus}\n      </div>\n\n      {loading ? (\n        <div className=\"flex justify-center items-center py-4\">\n          Cargando categorías y productos...\n        </div>\n      ) : error ? (\n        <div className=\"flex justify-center items-center py-4 text-red-600\">\n          Error: {error}\n        </div>\n      ) : categories.length === 0 ? (\n        <div className=\"flex justify-center items-center py-4\">\n          No se encontraron categorías\n        </div>\n      ) : (\n        <div className=\"flex justify-center items-center gap-15 text-lg pt-4 pb-4\">\n          <a\n            href=\"#mejores-ofertas\"\n            className=\"cursor-pointer hover:text-red-600 transition-colors mx-4\"\n          >\n            Ofertas\n          </a>\n          {categories.map((category) => (\n            <div key={category.id} className=\"relative mx-4\">\n              <button\n                onClick={() => handleDropdownToggle(category.name)}\n                className=\"flex items-center hover:text-red-600 transition-colors\"\n              >\n                {category.name}\n                <svg\n                  className={`ml-1 w-4 h-4 transition-transform ${\n                    openDropdown === category.name ? \"rotate-180\" : \"\"\n                  }`}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M19 9l-7 7-7-7\"\n                  ></path>\n                </svg>\n              </button>\n              {openDropdown === category.name && (\n                <div className=\"absolute z-50 mt-2 w-64 bg-white rounded-md shadow-lg py-1 text-base max-h-96 overflow-y-auto left-0\">\n                  {category.items.length > 0 ? (\n                    category.items.map((item, index) => (\n                      <a\n                        key={index}\n                        href={`/productname?nombre=${encodeURIComponent(item)}`}\n                        className=\"block px-4 py-2 text-gray-800 hover:bg-gray-100\"\n                      >\n                        {item}\n                      </a>\n                    ))\n                  ) : (\n                    <div className=\"block px-4 py-2 text-gray-500 italic\">\n                      No hay productos en esta categoría\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Categorias;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 826, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 832, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/index/footer.tsx"],"sourcesContent":["\"use client\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"bg-[#eb1414] rounded-lg shadow-sm mt-8\">\n      <div className=\"w-full max-w-screen-xl mx-auto p-4 md:py-8\">\n        <div className=\"sm:flex sm:items-center sm:justify-between\">\n          <a\n            href=\"/\"\n            className=\"flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse\"\n          >\n            <img src=\"\\oxc.svg\" className=\"h-8\" alt=\"Mario Gomez Logo\" />\n            <span className=\"self-center text-2xl font-bold whitespace-nowrap text-white\">\n              Feria de Proyectos\n            </span>\n          </a>\n          <ul className=\"flex flex-wrap items-center mb-6 text-sm font-medium text-white sm:mb-0\">\n            <li>\n              <a href=\"#\" className=\"hover:underline me-4 md:me-6\">\n                About\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" className=\"hover:underline me-4 md:me-6\">\n                Privacy Policy\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" className=\"hover:underline me-4 md:me-6\">\n                Licensing\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" className=\"hover:underline\">\n                Contact\n              </a>\n            </li>\n          </ul>\n        </div>\n        <hr className=\"my-6 border-gray-200 sm:mx-auto lg:my-8\" />\n        <span className=\"block text-sm text-white sm:text-center\">\n          © 2025{\" \"}\n          <a href=\"https://flowbite.com/\" className=\"hover:underline\">\n            Mario Gabriel Gómez Seguame\n          </a>\n          . All Rights Reserved.\n        </span>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,SAAS;IACb,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,WAAU;;8CAEV,8OAAC;oCAAI,KAAI;oCAAW,WAAU;oCAAM,KAAI;;;;;;8CACxC,8OAAC;oCAAK,WAAU;8CAA8D;;;;;;;;;;;;sCAIhF,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;8CACC,cAAA,8OAAC;wCAAE,MAAK;wCAAI,WAAU;kDAA+B;;;;;;;;;;;8CAIvD,8OAAC;8CACC,cAAA,8OAAC;wCAAE,MAAK;wCAAI,WAAU;kDAA+B;;;;;;;;;;;8CAIvD,8OAAC;8CACC,cAAA,8OAAC;wCAAE,MAAK;wCAAI,WAAU;kDAA+B;;;;;;;;;;;8CAIvD,8OAAC;8CACC,cAAA,8OAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;;;;;;;;;;;;;;;;;;8BAM9C,8OAAC;oBAAG,WAAU;;;;;;8BACd,8OAAC;oBAAK,WAAU;;wBAA0C;wBACjD;sCACP,8OAAC;4BAAE,MAAK;4BAAwB,WAAU;sCAAkB;;;;;;wBAExD;;;;;;;;;;;;;;;;;;AAMd;uCAEe","debugId":null}},
    {"offset": {"line": 990, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/index/header.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\n\nconst Header = () => {\n  return (\n    <div className=\"container mx-auto p-2 md:p-4\">\n      <div className=\"flex flex-col sm:flex-row items-center justify-between\">\n        {/* Logo */}\n        <div className=\"mb-3 sm:mb-0\">\n          <Image\n            src=\"/oxc.svg\"\n            alt=\"Logo Precio Justo\"\n            width={24}\n            height={24}\n            className=\"w-5 h-5 sm:w-6 sm:h-6\" // Mismas clases que los iconos\n            priority\n          />\n        </div>\n\n        {/* Eslogan */}\n        <div className=\"mb-3 sm:mb-0 text-center sm:text-left\">\n          <h2 className=\"text-white text-sm sm:text-base font-medium\">\n            Encuentra los mejores precios en tu ciudad\n          </h2>\n        </div>\n\n        {/* Redes sociales */}\n        <div className=\"flex space-x-4\">\n          <Link\n            href=\"https://facebook.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-white hover:text-gray-200 transition-colors\"\n          >\n            <Image\n              src=\"/facebook.svg\"\n              alt=\"Facebook\"\n              width={24}\n              height={24}\n              className=\"w-5 h-5 sm:w-6 sm:h-6\"\n            />\n          </Link>\n          <Link\n            href=\"https://x.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-white hover:text-gray-200 transition-colors\"\n          >\n            <Image\n              src=\"/x_twitter.svg\"\n              alt=\"X\"\n              width={24}\n              height={24}\n              className=\"w-5 h-5 sm:w-6 sm:h-6\"\n            />\n          </Link>\n          <Link\n            href=\"https://instagram.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-white hover:text-gray-200 transition-colors\"\n          >\n            <Image\n              src=\"/instagram.svg\"\n              alt=\"Instagram\"\n              width={24}\n              height={24}\n              className=\"w-5 h-5 sm:w-6 sm:h-6\"\n            />\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,SAAS;IACb,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU,wBAAwB,+BAA+B;;wBACjE,QAAQ;;;;;;;;;;;8BAKZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;;;;;;8BAM9D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,QAAO;4BACP,KAAI;4BACJ,WAAU;sCAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAGd,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,QAAO;4BACP,KAAI;4BACJ,WAAU;sCAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAGd,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,QAAO;4BACP,KAAI;4BACJ,WAAU;sCAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxB;uCAEe","debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/components/searchbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { FormEvent, useEffect, useRef, useState } from \"react\";\nimport { supabase } from \"../lib/supabaseClient\";\n\ninterface SearchResult {\n  id_producto: number;\n  nombre_producto: string;\n}\n\nconst SearchBar = () => {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [showResults, setShowResults] = useState(false);\n  const [isSearching, setIsSearching] = useState(false);\n  const searchContainerRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n\n  // Realizar búsqueda en tiempo real mientras se escribe\n  useEffect(() => {\n    const searchProducts = async () => {\n      if (query.trim().length < 2) {\n        setResults([]);\n        return;\n      }\n\n      setIsSearching(true);\n      try {\n        const { data, error } = await supabase\n          .from(\"productos\")\n          .select(\"id_producto, nombre_producto\")\n          .ilike(\"nombre_producto\", `%${query}%`)\n          .order(\"nombre_producto\")\n          .limit(5);\n\n        if (error) {\n          console.error(\"Error al buscar productos:\", error);\n          return;\n        }\n\n        setResults(data || []);\n        setShowResults(true);\n      } catch (err) {\n        console.error(\"Error inesperado en la búsqueda:\", err);\n      } finally {\n        setIsSearching(false);\n      }\n    };\n\n    // Usar un temporizador para evitar hacer muchas solicitudes mientras se escribe\n    const timer = setTimeout(() => {\n      if (query.trim()) {\n        searchProducts();\n      }\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [query]);\n\n  // Cerrar resultados al hacer clic fuera de la barra de búsqueda\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        searchContainerRef.current &&\n        !searchContainerRef.current.contains(event.target as Node)\n      ) {\n        setShowResults(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // Manejar el envío del formulario\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      router.push(`/search?q=${encodeURIComponent(query)}`);\n      setShowResults(false);\n    }\n  };\n\n  // Manejar clic en un resultado\n  const handleResultClick = (productName: string) => {\n    router.push(`/productname?nombre=${encodeURIComponent(productName)}`);\n    setShowResults(false);\n    setQuery(\"\");\n  };\n\n  return (\n    <div className=\"w-full max-w-3xl mx-auto relative\" ref={searchContainerRef}>\n      <form onSubmit={handleSubmit}>\n        <label\n          htmlFor=\"default-search\"\n          className=\"mb-2 text-sm font-medium text-white sr-only dark:text-white\"\n        >\n          Search\n        </label>\n        <div className=\"relative\">\n          <div\n            className=\"absolute inset-y-0 start-0 flex\n            items-center ps-3 pointer-events-none\"\n          >\n            <svg\n              className=\"w-4 h-4 text-white dark:text-white\"\n              aria-hidden=\"true\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                stroke=\"currentColor\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\"\n              />\n            </svg>\n          </div>\n          <input\n            type=\"search\"\n            id=\"default-search\"\n            className=\"block w-full p-4 ps-10 text-base text-white border-1\n            border-white rounded-lg dark:bg-transparent dark:text-white\n            focus:outline-none focus:border-2 no-clear-button\"\n            placeholder=\"Buscar productos...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onFocus={() => query.trim().length >= 2 && setShowResults(true)}\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"text-white absolute end-2.5 bottom-2.5\n            focus:outline-none font-medium rounded-lg text-sm px-4 py-2 hover:text-red-500\"\n          >\n            Buscar\n          </button>\n        </div>\n      </form>\n\n      {/* Resultados de búsqueda en tiempo real */}\n      {showResults && (\n        <div className=\"absolute mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg z-30 max-h-72 overflow-y-auto\">\n          {isSearching ? (\n            <div className=\"p-4 text-center text-gray-500\">Buscando...</div>\n          ) : results.length > 0 ? (\n            <ul>\n              {results.map((result) => (\n                <li\n                  key={result.id_producto}\n                  className=\"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-0 text-gray-800\"\n                  onClick={() => handleResultClick(result.nombre_producto)}\n                >\n                  {result.nombre_producto}\n                </li>\n              ))}\n              <li className=\"p-2 text-center bg-gray-50\">\n                <button\n                  onClick={handleSubmit}\n                  className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                >\n                  Ver todos los resultados\n                </button>\n              </li>\n            </ul>\n          ) : query.trim().length >= 2 ? (\n            <div className=\"p-4 text-center text-gray-500\">\n              No se encontraron productos\n            </div>\n          ) : null}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1358, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1364, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mario%20GGS/fp-ecommerce/src/app/index/navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport SearchBar from \"../components/searchbar\";\nimport { useCart } from \"../index/carrito\";\n\nconst Navbar = () => {\n  const { toggleCart, totalItems } = useCart();\n  const [isMounted, setIsMounted] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  // Marcar cuando el componente está montado\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Función para abrir/cerrar el menú\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <header className=\"bg-red-600 p-3 sm:p-4 md:p-6 sticky top-0 z-20 shadow-md\">\n      <div className=\"container mx-auto flex flex-col sm:flex-row items-center justify-between\">\n        {/* Fila superior en móvil / Izquierda en escritorio */}\n        <div className=\"flex items-center mb-3 sm:mb-0 w-full sm:w-auto justify-between sm:justify-start\">\n          {/* Botón de menú hamburguesa (solo visible en móvil y tablets pequeñas) */}\n          <button\n            className=\"sm:hidden focus:outline-none mr-2\"\n            onClick={toggleMenu}\n            aria-label=\"Abrir menú\"\n          >\n            <Image\n              src=\"/menu-burger.svg\"\n              alt=\"Menú\"\n              width={24}\n              height={24}\n              className=\"text-white\"\n            />\n          </button>\n\n          {/* Logo - adaptable según el tamaño */}\n          <Link\n            href=\"/\"\n            className=\"text-white text-lg sm:text-xl md:text-2xl font-bold transition-all\"\n          >\n            Precio Justo\n          </Link>\n\n          {/* Botón del carrito para móvil */}\n          <button\n            onClick={toggleCart}\n            className=\"sm:hidden text-white hover:text-gray-200 transition-colors relative\"\n            aria-label=\"Ver lista de compras\"\n          >\n            <div className=\"relative w-6 h-6 sm:w-7 sm:h-7\">\n              <Image\n                src=\"/list.svg\"\n                alt=\"Lista de compras\"\n                width={24}\n                height={24}\n                className=\"text-white\"\n              />\n              {isMounted && totalItems > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-white text-red-600 rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center text-xs font-bold\">\n                  {totalItems}\n                </span>\n              )}\n            </div>\n          </button>\n        </div>\n\n        {/* Barra de búsqueda - adaptable */}\n        <div className=\"w-full sm:w-1/2 lg:w-2/5 mb-3 sm:mb-0 sm:mx-4 md:mx-auto order-3 sm:order-2\">\n          <SearchBar />\n        </div>\n\n        {/* Botón del carrito para tablet/desktop */}\n        <div className=\"hidden sm:flex items-center justify-end sm:w-auto order-2 sm:order-3\">\n          <button\n            onClick={toggleCart}\n            className=\"text-white hover:text-gray-200 transition-colors relative p-1\"\n            aria-label=\"Ver lista de compras\"\n          >\n            <div className=\"relative w-6 h-6 md:w-7 md:h-7\">\n              <Image\n                src=\"/list.svg\"\n                alt=\"Lista de compras\"\n                width={24}\n                height={24}\n                className=\"text-white\"\n              />\n              {isMounted && totalItems > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-white text-red-600 rounded-full w-4 h-4 md:w-5 md:h-5 flex items-center justify-center text-xs font-bold\">\n                  {totalItems}\n                </span>\n              )}\n            </div>\n          </button>\n        </div>\n      </div>\n\n      {/* Menú móvil - placeholder */}\n      {isMounted && isMenuOpen && (\n        <div className=\"sm:hidden mt-2 pt-2 border-t border-red-500\">\n          <div className=\"py-2 text-white text-center\">\n            Menú en construcción\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Navbar;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,SAAS;IACb,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,2CAA2C;IAC3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa;IACf,GAAG,EAAE;IAEL,oCAAoC;IACpC,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCACC,WAAU;gCACV,SAAS;gCACT,cAAW;0CAEX,cAAA,8OAAC,6HAAA,CAAA,UAAK;oCACJ,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;;;;;;0CAKd,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAKD,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,WAAU;;;;;;wCAEX,aAAa,aAAa,mBACzB,8OAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;kCAQX,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,sIAAA,CAAA,UAAS;;;;;;;;;;kCAIZ,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;;;;;;oCAEX,aAAa,aAAa,mBACzB,8OAAC;wCAAK,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;YASZ,aAAa,4BACZ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAA8B;;;;;;;;;;;;;;;;;AAOvD;uCAEe","debugId":null}},
    {"offset": {"line": 1558, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}